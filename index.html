<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="styles.css" />
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
</head>
<body>
    <div class="nav-bar">
        <div class="menu-icon-container" onclick="myFunction(this)">
            <div class="bar1"></div>
            <div class="bar2"></div>
            <div class="bar3"></div>
        </div>
        <div class="logo" id="udemy-logo"><img src="https://www.udemy.com/staticx/udemy/images/v7/logo-udemy.svg" alt="Udemy Logo"></div>
        <button id="categories">Categories</button>
    
        <div class="search-bar" id="search-bar">
            <form>
                    <button type="button" id="search-button" class="fa fa-search" ></button><input placeholder="Search for anything" name="search" id="search-field"> 
            </form>
        </div>
        <button id="business">Udemy Business</button>
        <button id="teach">Teach on Udemy</button>
        <div class="sign-in-up">
            <div>
                <button class="fa fa-shopping-cart" id="cart"></button>
            </div>
            <div>
                <button id="log-in">Log in</button>
            </div>
            <div>
                <button id="sign-up">Sign up</button>
            </div>
            <div>
                <button class="fa fa-language" id="languages"></button>
            </div>
        </div>
    </div>

    <div class="header">
        
        <div id="wel-msg">
            <h5>New to Udemy? Lucky you.</h5>
            <p>Courses start at E£169.99. Get your new student offer before it expires.</p>
        </div>
        <img src="assets/alarm.png" alt="Alarm Image" id="alarm">
    </div>

    <ul id="header-icons" class="header-icons" width="100%" aria-hidden="true">
        <div id="small-wel-msg">
            <h5>New to Udemy? Lucky you.</h5>
            <p>Courses start at E£169.99. Get your new student offer before it expires.</p>
        </div>
        <img src="assets/alarm.png" alt="Alarm Image" id="smallAlarm">
    </ul>

    <div class="courses-selection">
        <h1 name="title">A broad selection of courses</h1>
        <p>Choose from 185,000 online video courses with new additions published every month</p>
        <div id="choose-course" class="choose-course">
                <div>
                    <button id="python">Python</button>
                </div>
                <div>
                    <button id="excel">Excel</button>
                </div>
                <div>
                    <button id="web-development">Web Development</button>
                </div>
                <div>
                    <button id="java-script">JavaScript</button>
                </div>
                <div>
                    <button id="data-science">Data Science</button>
                </div>
                <div>
                    <button id="aws">AWS Certification</button>
                </div>
                <div>
                    <button id="drawing">Drawing</button>
                </div>
        </div>
        <div>
            <section class="courses">
                <h2>Expand your career opportunities with Python</h2>
                <p id="course-intro">
                    Take one of Udemy's range of Python courses and learn how to code using this incredibly useful language. 
                    Its simple syntax and readability makes Python perfect for Flask, Django, data science, and machine learning. 
                    You'll learn how to build everything from games to sites to apps. Choose from a range of courses that will 
                    appeal to both beginners and advanced developers alike.
                </p>
                <button id="explore-course">Explore Python</button>
                <hr color="white">
                <div class="courses-list">
                    <div id="course1">
                        <img src="assets/python/course1.jpg" alt="Python Course">
                        <p class="course-name">Learn Python: The Complete Python Programming Course</p>
                        <p class="course-presenter">Avinash Jain, The Codex</p>
                        <span id="rating-num">5</span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>

                        <p class="price">E£679.99</p>
                    </div>

                    <div id="course2">
                        <img src="assets/python/course2.jpg" alt="Python Course">
                        <p class="course-name">Learning Python for Data Analysis and Visualization</p>
                        <p class="course-presenter">Jose Portilla</p>
                        <span id="rating-num">4</span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star"></span>
                        <p class="price">E£1,599.99</p>
                        <div class="course-card">
                            <div id="best-seller" class="best-seller">
                                Bestseller
                            </div>
                        </div>
                    </div>

                    <div id="course3">
                        <img src="assets/python/course3.jpg" alt="Python Course">
                        <p class="course-name">Python for Beginners - Learn Programming from scratch</p>
                        <p class="course-presenter">Edwin Diaz, Coding Faculty Solutions</p>
                        <span id="rating-num">5</span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <p class="price">E£679.99</p>
                    </div>

                    <div id="course4">
                        <img src="assets/python/course4.jpg" alt="Python Course">
                        <p class="course-name">Python Beyond the Basics - Object-Oriented Programming</p>
                        <p class="course-presenter">Abrar Hussain</p>
                        <span id="rating-num">4</span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star"></span>
                        <p class="price">E£319.99</p>
                    </div>

                    <div id="course5">
                        <img src="assets/python/course5.jpg" alt="Python Course">
                        <p class="course-name">Python Beyond the Basics - Object-Oriented Programming</p>
                        <p class="course-presenter">Infinite Skills</p>
                        <span id="rating-num">5</span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <span class="fa fa-star checked"></span>
                        <p class="price">E£519.99</p>
                    </div>

                </div>
            </section>
        </div>
    </div>
    <script>

        $(document).ready(function (){
            validate();
            $('#search-button, #search-field').change(validate);
        });

        function validate() {
            if($('#search-field').val().length > 0) {
                $('#search-button').prop("disabled", false);
            } else {
                $('#search-button').prop("disabled", true);
            }
        }

        let courses = [];
        function readJson () {
            fetch('http://localhost:3000/courses')
            .then(response => {
                if (!response.ok) {
                    throw new Error("HTTP error " + response.status);
                }
                return response.json();
            })
            .then(json => {
                for(let i=0;i<json.length;i++) {
                    courses.push(json[i]);
                }
            })
            .catch(function () {
                this.dataError = true;
            })
        }
        readJson();

        
        const searchBtn = document.querySelector("#search-button");
        
        searchBtn.addEventListener('click', async function(){
            let searchInput = document.getElementById('search-field').value;
            let filteredCourses = [];
            for(let course of courses){
                if(course.title.toLowerCase().includes(searchInput.toLowerCase()))
                    filteredCourses.push(course);
            }
            const myNode = document.querySelector(".courses-list");
            const searchResult = document.querySelector("h1");
            searchResult.textContent = (filteredCourses.length + " results for (" + searchInput + ")").toString();
            const coursesButtons = document.querySelector(".choose-course");
            coursesButtons.style.cssText = "display: none";
            const h2 = document.querySelector("h2");
            h2.style.cssText = "display: none";
            const courseIntro = document.querySelector("#course-intro");
            courseIntro.style.cssText = "display: none";
            const exploreButton = document.querySelector("#explore-course");
            exploreButton.style.cssText = "display: none";
            showFilteredCourses(filteredCourses);
        
        })            
        
        function showFilteredCourses(filteredCourses) {
            const myNode = document.querySelector(".courses-list");
            myNode.innerHTML = "";
            for(let i=0;i<filteredCourses.length;i++){
                course = filteredCourses[i];
                const div = document.createElement("div");
                div.style.cssText = "display: inline-block;width: 250px; margin-right: 3px; margin-bottom: 0px; height:40%; text-align: left";
                const courseImage = document.createElement("img");
                courseImage.src = course.image;
                courseImage.alt = "Course Image";
                const courseTitle = document.createElement("p");
                courseTitle.textContent = course.title;
                courseTitle.style.cssText = "font: bold 15px arial";
                const courseAuthor = document.createElement("p");
                courseAuthor.textContent = course.author;
                courseAuthor.style.cssText = "font-size: 13px";
                const ratingNum = document.createElement('span');
                ratingNum.textContent = "5";
                ratingNum.style.cssText = "font-size: bold 15px arial; color: rgb(172, 115, 8); margin-right: 3px";
                const firstStar = document.createElement('span');
                firstStar.className = "fa fa-star checked";
                const secondStar = document.createElement('span');
                secondStar.className = "fa fa-star checked";
                const thirdStar = document.createElement('span');
                thirdStar.className = "fa fa-star checked";
                const fourthStar = document.createElement('span');           
                fourthStar.className = "fa fa-star checked";
                const fifthStar = document.createElement('span');           
                fifthStar.className = "fa fa-star checked";
                const coursePrice = document.createElement('p');
                coursePrice.textContent = course.price;
                coursePrice.style.cssText = "font:bold 15px arial";

                div.appendChild(courseImage);
                div.appendChild(courseTitle);
                div.appendChild(courseAuthor);
                div.appendChild(ratingNum);
                div.appendChild(firstStar);
                div.appendChild(secondStar);
                div.appendChild(thirdStar);
                div.appendChild(fourthStar);
                div.appendChild(fifthStar);
                div.appendChild(coursePrice);

                myNode.appendChild(div);
            }
        }

        let coursesButtons = [];
        const python = document.querySelector("#python");
        coursesButtons.push(python);
        python.addEventListener('click', async function(){
            coursesIntro("Python");
            changeButtonsStyle("Python");
            tabCourses("Python");
        })

        const excel = document.querySelector("#excel");
        coursesButtons.push(excel);
        excel.addEventListener('click', async function(){
            coursesIntro("Excel");
            changeButtonsStyle("Excel");
            tabCourses("Excel");
        
        })

        const web = document.querySelector("#web-development");
        coursesButtons.push(web);
        web.addEventListener('click', async function(){
            coursesIntro("Web Development");
            changeButtonsStyle("Web Development");
            tabCourses("Web Development");
        
        })

        const javaScript = document.querySelector("#java-script");
        coursesButtons.push(javaScript);
        javaScript.addEventListener('click', async function(){
            coursesIntro("JavaScript");
            changeButtonsStyle("JavaScript");
            tabCourses("JavaScript");
        
        })

        const dataScience = document.querySelector("#data-science");
        coursesButtons.push(dataScience);
        dataScience.addEventListener('click', async function(){
            coursesIntro("Data Science");
            changeButtonsStyle("Data Science");
            tabCourses("Data Science");
        
        })

        const aws = document.querySelector("#aws");
        coursesButtons.push(aws);
        aws.addEventListener('click', async function(){
            coursesIntro("AWS Certification");
            changeButtonsStyle("AWS Certification");
            tabCourses("AWS Certification");
        
        })

        const drawing = document.querySelector("#drawing");
        coursesButtons.push(drawing);
        drawing.addEventListener('click', async function(){
            coursesIntro("Drawing");
            changeButtonsStyle("Drawing");
            tabCourses("Drawing");
        
        })

        function coursesIntro(name) {
            const h2 = document.querySelector("h2");
            const p = document.querySelector("#course-intro");
            const explore = document.querySelector("#explore-course");
            explore.textContent = "Explore " + name;
            switch (name) {
                case "Python":
                    h2.textContent = "Expand your career opportunities with Python";
                    p.textContent = "Take one of Udemy's range of Python courses and learn how to code using this incredibly useful language. Its simple syntax and readability makes Python perfect for Flask, Django, data science, and machine learning. You'll learn how to build everything from games to sites to apps. Choose from a range of courses that will appeal to both beginners and advanced developers alike.";
                    break;
                case "Excel":
                    h2.textContent = "Analyze and visualize data with Excel";
                    p.textContent = "Take a Microsoft Excel course from Udemy, and learn how to use this industry-standard software. Real-world experts will show you the basics like how to organize data into sheets, rows and columns, and advanced techniques like creating complex dynamic formulas. Both small businesses and large companies use Excel to turn their raw data into actionable insights.";
                    break;
                case "Web Development":
                    h2.textContent = "Build websites and applications with Web Development";
                    p.textContent = "The world of web development is as wide as the internet itself. Much of our social and vocational lives play out on the internet, which prompts new industries aimed at creating, managing, and debugging the websites and applications that we increasingly rely on.";
                    break;
                case "JavaScript":
                    h2.textContent = "Grow your software development skills with JavaScript";
                    p.textContent = "JavaScript is a text-based computer programming language used to make dynamic web pages. A must-learn for aspiring web developers or programmers, JavaScript can be used for features like image carousels, displaying countdowns and timers, and playing media on a webpage. With JavaScript online classes, you can learn to build interactive web applications, choose the best framework, and work with other programming languages like HTML and CSS.";
                    break;
                case "Data Science":
                    h2.textContent = "Lead data-driven decisions with Data Science";
                    p.textContent = "Data science application is an in-demand skill in many industries worldwide — including finance, transportation, education, manufacturing, human resources, and banking. Explore data science courses with Python, statistics, machine learning, and more to grow your knowledge. Get data science training if you’re into research, statistics, and analytics.";
                    break;
                case "AWS Certification":
                    h2.textContent = "Become an expert in cloud computing with AWS Certification";
                    p.textContent = "Prep for your AWS certification with an AWS course on Udemy. Learn the fundamentals of AWS such as working with a serverless platform, the various frameworks, security and more. With these courses, you’ll build the valuable skills you need to implement cloud initiatives — and open up new career opportunities. If you want to become an AWS developer, we’ve got the course for you.";
                    break;
                default:
                    h2.textContent = "Expand your creative skillset with Drawing";
                    p.textContent = "Want to start drawing for fun or take your craft to the next level? Explore our online drawing classes and learn pencil drawing, figure drawing, cartoon drawing, character drawing for cartoons and anime, illustration, sketching, shading and more. Take an overview course on the fundamentals of drawing or zero in on an area you’d like to improve with a specialized course. We’ve got tons of options to get — and keep — you going.";
            }

        }

        function changeButtonsStyle(name){
            for(let btn of coursesButtons){
                if(btn.textContent === name){
                    btn.style.cssText = "color: black";
                }
                else{
                    btn.style.cssText = "color: rgb(103, 103, 103);";   
                }
            }
        }

        function tabCourses(name){
            let filteredCourses = [];
            for(let course of courses){
                console.log('course ',course);
                let f = ((name==="Python"&&course.id<=8) || (name==="Excel"&&course.id>8&&course.id<=16) || (name==="Web Development"&&course.id>16&&course.id<=24) || (name==="JavaScript"&&course.id>24&&course.id<=32) || (name==="Data Science"&&course.id>32&&course.id<=40) || (name==="AWS Certification"&&course.id>40&&course.id<=48) || (name==="Drawing"&&course.id>48&&course.id<=56));
                if(f)
                    filteredCourses.push(course);
            }
            
            console.log(filteredCourses);
            showFilteredCourses(filteredCourses);
        }
    </script>
</body>
</html>